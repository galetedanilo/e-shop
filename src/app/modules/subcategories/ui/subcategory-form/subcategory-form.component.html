<p-card header="Category" i18n-header>
  <form [formGroup]="form" (submit)="onSubmit()">
    <div class="flex flex-column gap-2">
      <div class="flex justify-content-end align-items-center gap-2">
        <p-inputSwitch
          inputId="isActive"
          formControlName="isActive"></p-inputSwitch>
        <label for="isActive" i18n>Active</label>
      </div>
      <div
        class="flex flex-column sm:flex-row gap-4 sm:gap-2 justify-content-between w-full">
        <div class="flex w-full">
          <span class="p-input-icon-right p-float-label w-full">
            <i class="bx bxs-category"></i>
            <input
              class="w-full"
              type="text"
              id="category"
              aria-describedby="category-name"
              aria-label="category"
              placeholder="Category name"
              pInputText
              formControlName="name"
              i18n-placeholder />
            <label htmlFor="category" i18n>Category</label>
          </span>
        </div>
        <small *ngIf="form.controls['name'].valid" id="category" i18n
          >Enter the new category name.</small
        >

        <span class="p-float-label">
          <p-dropdown
            [options]="categories"
            formControlName="category"
            optionLabel="name"
            [filter]="true"
            filterBy="name"
            [showClear]="true"
            placeholder="Select a Category"
            inputId="category-label">
            <ng-template pTemplate="selectedItem">
              <div
                class="flex align-items-center gap-2"
                *ngIf="form.controls['category'].valid">
                <div>{{ form.controls['category'].value }}</div>
              </div>
            </ng-template>
            <ng-template class="w-full" let-category pTemplate="item">
              <div class="flex align-items-center gap-2">
                <div>{{ category.name }}</div>
              </div>
            </ng-template>
          </p-dropdown>
          <label htmlFor="category-label">Select a Category</label>
        </span>
      </div>

      <div class="w-full pt-4">
        <span class="p-float-label">
          <textarea
            class="w-full"
            id="description"
            rows="5"
            cols="30"
            pInputTextarea
            formControlName="description"></textarea>
          <label for="description" i18n>Description</label>
        </span>
      </div>
      <div class="flex justify-content-end gap-2 pt-2">
        <p-button
          label="Save"
          styleClass="p-button-success"
          type="submit"
          [loading]="isLoading"
          [disabled]="form.invalid"
          i18n-label />
        <p-button
          label="Cancel"
          styleClass="p-button-danger"
          (onClick)="onCancel()"
          i18n-label />
      </div>
    </div>
  </form>
</p-card>
